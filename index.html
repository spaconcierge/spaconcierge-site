<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Analytics (GA4) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-5Y0D6FR8Z2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-5Y0D6FR8Z2');
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#5ED5C3">
  <title>SpaConcierge — Never Miss a Client</title>
  <meta name="description" content="AI assistant for med-spas that instantly texts back missed calls, answers FAQs, and books appointments—without adding staff.">
  <link rel="canonical" href="https://www.getspaconcierge.com/">
  <meta name="robots" content="index,follow,max-image-preview:large">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="SpaConcierge — Never Miss a Client">
  <meta property="og:description" content="AI assistant for med-spas that instantly texts back missed calls, answers FAQs, and books appointments—without adding staff.">
  <meta property="og:url" content="https://www.getspaconcierge.com/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://www.getspaconcierge.com/og-image-1200x630.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SpaConcierge — Never Miss a Client">
  <meta name="twitter:description" content="AI assistant for med-spas that instantly texts back missed calls, answers FAQs, and books appointments—without adding staff.">
  <meta name="twitter:image" content="https://www.getspaconcierge.com/og-image-1200x630.png">

  <!-- Favicon (SVG only) -->
  <link rel="icon" href="/spaconcierge_logo_monogram.svg?v=3" type="image/svg+xml">
  <!-- (Nice-to-have for Safari pinned tabs; still uses your SVG, no extra file) -->
  <link rel="mask-icon" href="/spaconcierge_logo_monogram.svg?v=3" color="#0aa08a">
  <!-- PWA/shortcuts (keep these) -->
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Perf hints -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  <link rel="dns-prefetch" href="//www.googletagmanager.com">
  <link rel="dns-prefetch" href="//calendly.com">
  <link rel="preload" href="/spaconcierge_logo_monogram.svg" as="image" type="image/svg+xml">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Calendly popup widget (for inline modal) -->
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
  <script src="https://assets.calendly.com/assets/external/widget.js" async></script>

  <style>
    :root{
      --aqua:#5ED5C3; --aqua-dark:#2aa697;
      --charcoal:#1f252b; --muted:#6a7682; --line:#eef1f4;
      --glow:0 10px 30px rgba(0,0,0,.08); --glow-strong:0 30px 80px rgba(0,0,0,.15);
      --max:1100px;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Inter',system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--charcoal);line-height:1.6;background:#fff}
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--max);margin:0 auto;padding:0 22px}

    /* Skip link */
    .skip{position:absolute;left:-9999px;top:-9999px}
    .skip:focus{left:12px;top:12px;background:#fff;padding:8px 12px;border-radius:10px;z-index:100;box-shadow:var(--glow)}
    /* Remove the skip link entirely */
    .skip { display: none !important; }

    /* Header / Nav */
    header{position:sticky;top:0;z-index:50;backdrop-filter:saturate(140%) blur(10px);background:rgba(255,255,255,.82);border-bottom:1px solid var(--line);transition:box-shadow .25s ease}
    header.scrolled{box-shadow:0 2px 20px rgba(0,0,0,.06)}
    .nav{display:flex;justify-content:space-between;align-items:center;height:74px}
    .brand{font-family:'Montserrat',sans-serif;font-weight:700;font-size:20px;display:flex;align-items:center;gap:10px}
    .brand-logo{width:26px;height:26px;display:block}
    .nav-cta{display:flex;gap:10px}

    /* Buttons */
    .btn{padding:12px 20px;border-radius:999px;font-weight:600;transition:transform .22s ease, box-shadow .22s ease, background .22s ease;display:inline-block}
    .btn:focus-visible{outline:3px solid rgba(46,164,79,.35);outline-offset:2px}
    .btn-primary{background:var(--aqua);color:#fff;box-shadow:var(--glow)}
    .btn-primary:hover{background:var(--aqua-dark);transform:translateY(-2px);box-shadow:var(--glow-strong)}
    .btn-secondary{border:2px solid var(--aqua);color:var(--aqua);background:#fff}
    .btn-secondary:hover{background:#eafffa;transform:translateY(-2px)}

    /* Hero */
    .hero{padding:90px 0;background:linear-gradient(135deg,#f6fffd,#e8fcf7)}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:40px;align-items:center}
    .hero h1{font-family:'Montserrat',sans-serif;font-size:46px;line-height:1.1;margin-bottom:20px}
    .hero p{font-size:18px;color:var(--muted);margin-bottom:20px}
    .cta-row{display:flex;gap:12px;flex-wrap:wrap}

    .mock{
      position:relative; overflow:hidden;
      width:100%; height:500px;border-radius:20px;
      background:linear-gradient(135deg,#d9f9f1,#ffffff);
      border:1px solid var(--line); box-shadow:var(--glow);
      transition:transform .4s ease, box-shadow .4s ease
    }
    .mock:hover{transform:perspective(1000px) rotateX(2deg) rotateY(-2deg);box-shadow:var(--glow-strong)}

    /* Centered monogram inside hero mock */
    .center-logo{position:absolute; inset:0; display:grid; place-items:center}
    .center-logo img{
      width:min(220px,55%); opacity:.96;
      filter:drop-shadow(0 12px 28px rgba(0,0,0,.10));
      transform:translateY(0); animation:float 8s ease-in-out infinite;
    }
    @keyframes float{ 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }

    /* --- HERO ANIMATION (multi-scene, staggered) --- */
    .hero-anim{position:absolute; inset:0; display:grid; place-items:center; pointer-events:none}
    .scene{position:absolute; inset:0; display:grid; place-items:center; opacity:0; transition:opacity .4s ease}
    .scene.active{opacity:1}

    .hero-bubbles{width:min(520px,70%); display:grid; gap:12px}

    /* message cards */
    .bubble{
      background:#fff; border:1px solid var(--line); border-radius:14px;
      padding:12px 14px; box-shadow:var(--glow);
      display:flex; align-items:center; gap:10px;
      opacity:0; transform:translateY(12px);
      /* paused by default; we toggle to play via JS when a scene activates */
      animation: bubbleIn 6.8s linear both paused;
      font-size:15px;
    }
    .bubble strong{font-weight:700}
    .bubble .time{margin-left:auto; color:#9aa7b3; font-size:12px}

    /* variants */
    .bubble.me{background:linear-gradient(135deg,#f6fffd,#e8fcf7)}
    .bubble.book{background:linear-gradient(135deg,#e6fff8,#ffffff); border-color:#d0f4eb}

    /* avatar chip */
    .avatar{
      width:28px;height:28px;border-radius:50%;
      background:linear-gradient(135deg,#0f3034,#193b40);
      color:#fff; display:grid; place-items:center; font-size:12px; font-weight:700;
      box-shadow:0 6px 14px rgba(0,0,0,.12)
    }

    /* typing dots */
    .typing{display:inline-flex; gap:4px}
    .typing i{
      width:6px;height:6px;border-radius:50%; background:#90cfc6; opacity:.3;
      animation:blink 1.2s infinite ease-in-out;
    }
    .typing i:nth-child(2){animation-delay:.15s}
    .typing i:nth-child(3){animation-delay:.3s}

    /* per-bubble timing inside each scene */
    .b1{animation-delay:.2s}
    .b2{animation-delay:1.4s}
    .b3{animation-delay:2.4s}
    .b4{animation-delay:3.8s}

    /* keyframes */
    @keyframes bubbleIn{
      0%   {opacity:0; transform:translateY(12px)}
      8%   {opacity:1; transform:translateY(0)}
      75%  {opacity:1; transform:translateY(0)}
      100% {opacity:0; transform:translateY(-6px)}
    }
    @keyframes blink{
      0%,100%{opacity:.35; transform:translateY(0)}
      50%   {opacity:1;   transform:translateY(-1px)}
    }

    /* Sections */
    section{padding:70px 0}
    .section-title{font-family:'Montserrat',sans-serif;font-size:28px;margin-bottom:12px}
    .sub{color:var(--muted);margin-bottom:28px}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}
    .card{background:#fff;border:1px solid var(--line);border-radius:16px;padding:22px;box-shadow:var(--glow);transition:transform .22s ease, box-shadow .22s ease, border-color .22s ease}
    .card:hover{transform:translateY(-6px);box-shadow:var(--glow-strong);border-color:#d0f4eb}
    .card h3{margin-bottom:10px}

    /* ROI Snapshot */
    .stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .stat{background:#ffffff;border:1px solid var(--line);border-radius:16px;padding:18px;box-shadow:var(--glow)}
    .stat b{display:block;font-size:26px;font-family:'Montserrat',sans-serif}

    /* Contact form */
    .contact{background:linear-gradient(180deg,#f7fffe,#ffffff)}
    form.contact-form{background:#fff;border:1px solid var(--line);border-radius:18px;padding:24px;box-shadow:var(--glow)}
    .fields{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .field{display:flex;flex-direction:column;gap:6px}
    .field.full{grid-column:1/-1}
    label{font-weight:600;font-size:14px}
    input,textarea,select{appearance:none;border:1px solid #e3e8ee;border-radius:10px;padding:12px 14px;font-size:15px;transition:border-color .2s ease, box-shadow .2s ease}
    textarea{min-height:120px;resize:vertical}
    input:focus,textarea:focus,select:focus{outline:none;border-color:var(--aqua);box-shadow:0 0 0 3px rgba(94,213,195,.18)}
    .form-foot{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-top:12px;flex-wrap:wrap}
    .form-note{font-size:12px;color:var(--muted)}
    .form-success{display:none;background:#e8fcf7;border:1px solid #c9efe6;color:#0c3d36;padding:12px 14px;border-radius:10px;margin:14px 0}
    .form-error{display:none;background:#fff3f3;border:1px solid #ffd6d6;color:#7a1f1f;padding:12px 14px;border-radius:10px;margin:14px 0}

    /* CTA Banner (centered) */
    .cta-banner{
      background:linear-gradient(135deg,#00c2a8,#009b85);
      color:#fff;border-radius:20px;padding:40px;
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      gap:18px;text-align:center
    }
    .cta-banner .cta-row{justify-content:center}

    footer{text-align:center;padding:40px 20px;color:var(--muted);border-top:1px solid var(--line)}

    /* Reveal */
    .reveal{opacity:0;transform:translateY(20px);transition:opacity .6s ease, transform .6s ease}
    .reveal.show{opacity:1;transform:translateY(0)}

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .mock,.btn,.card,.reveal,input,textarea,select{transition:none !important}
      .mock:hover,.btn:hover,.card:hover{transform:none !important}
      .center-logo img{animation:none !important}
    }

    @media(max-width:900px){
      .grid2{grid-template-columns:1fr}
      .hero{text-align:center}
      .fields{grid-template-columns:1fr}
    }

    /* ===== Premium motion for hero chat ===== */
    :root{
      --msg-ease: cubic-bezier(.22,.65,.20,1);
      --msg-dur: 520ms;
    }

    /* keep the card substantial on all screens */
    .mock{ min-height:560px }
    .chat-stage{ width:100%; height:100%; display:flex; align-items:center; justify-content:center }
    .chat-card{
      width:86%; max-width:540px; background:linear-gradient(180deg,#f4fffb,#ffffff);
      border:1px solid var(--line); border-radius:20px; padding:18px;
      box-shadow:var(--glow-strong); overflow:hidden;
    }

    /* bubbles get subtle lift on hover and pop-in on mount */
    .bubble{
      background:#ecfcf6; border:1px solid #e2f5ef; border-radius:16px; padding:14px 16px; box-shadow:var(--glow);
      transition: box-shadow 400ms var(--msg-ease), transform 400ms var(--msg-ease);
      will-change: transform, filter;
    }
    .bubble:hover{ transform:translateY(-1px); box-shadow:0 12px 30px rgba(0,0,0,.08) }
    .bubble-row{ display:flex; align-items:center; gap:12px }
    .bubble.event{ background:#fff; border-color:#e8eef2 }
    .bubble.ai-msg{ background:#eafffa }
    .bubble.confirm{ background:#fff }
    .bubble .title{ font-weight:700; color:#1f2937 }
    .bubble .time{ margin-left:auto; color:#6b7280; font-weight:600 }

    /* avatars */
    .avatar{ width:36px; height:36px; border-radius:999px; display:grid; place-items:center; flex:0 0 36px }
    .avatar.ai{ background:linear-gradient(180deg,#17b79e,#0da58e); color:#fff; font-weight:800; letter-spacing:.5px }
    .avatar svg{ display:block; width:100%; height:100% }

    .reveal-msg{ animation: rise var(--msg-dur) var(--msg-ease) both }
    @keyframes rise{
      0%{ opacity:0; transform:translateY(10px) scale(.985); filter:blur(6px) }
      100%{ opacity:1; transform:none; filter:blur(0) }
    }

    /* typing dots with a gentle wave instead of blink */
    .typing .dot{
      width:8px; height:8px; border-radius:50%; background:#8fd6c9;
      transform-origin:center; animation: wave 1200ms ease-in-out infinite both;
      opacity:.35;
    }
    .typing .dot:nth-child(2){ animation-delay:.12s }
    .typing .dot:nth-child(3){ animation-delay:.24s }
    @keyframes wave{
      0%,80%,100%{ transform:translateY(0); opacity:.35 }
      40%{ transform:translateY(-3px); opacity:1 }
    }

    @media(max-width:900px){
      .chat-card{ width:100%; max-width:none }
      .mock{ min-height:460px }
    }

    /* ROI calculator */
    .roi-form{margin-top:6px;margin-bottom:14px}
    .roi-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
    .roi-field{display:flex;flex-direction:column;gap:8px;background:#fff;border:1px solid var(--line);
      border-radius:12px;padding:12px;box-shadow:var(--glow)}
    .roi-field span{font-weight:600;font-size:14px;color:#364152}
    .roi-field input{width:100%;border:1px solid #e3e8ee;border-radius:10px;padding:10px 12px;font-size:15px}
    .roi-input-affix{display:flex;align-items:center;gap:8px}
    .roi-input-affix .affix{font-weight:700;color:#6a7682}
    .roi-results{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-top:8px}
    .roi-card{background:#fff;border:1px solid var(--line);border-radius:16px;padding:18px;box-shadow:var(--glow);text-align:center}
    .roi-label{color:#6a7682;font-weight:600;margin-bottom:6px}
    .roi-num{font-family:'Montserrat',sans-serif;font-size:26px}
    .roi-cta{display:flex;gap:12px;align-items:center;margin-top:16px}
    .roi-note{font-size:12px;color:var(--muted)}
    @media(max-width:900px){ .roi-grid,.roi-results{grid-template-columns:1fr 1fr} }
  </style>

  <!-- JSON-LD: Organization -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Organization","name":"SpaConcierge","url":"https://www.getspaconcierge.com","email":"matt@getspaconcierge.com","logo":"https://www.getspaconcierge.com/android-chrome-512x512.png","sameAs":[]}
  </script>
  <!-- JSON-LD: WebSite with booking action -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "url":"https://www.getspaconcierge.com",
    "potentialAction":{
      "@type":"ReserveAction",
      "name":"Book a demo",
      "target":"https://calendly.com/matt-getspaconcierge/new-meeting"
    }
  }
  </script>
</head>
<body>
<a href="#main" class="skip">Skip to content</a>

<header id="site-header">
  <div class="container nav">
    <div class="brand">
      <img class="brand-logo" src="/spaconcierge_logo_monogram.svg" alt="" width="26" height="26">
      <span>SpaConcierge</span>
    </div>
    <div class="nav-cta">
      <a class="btn btn-secondary" href="/faq.html" data-cta="faq">FAQ</a>
      <a class="btn btn-secondary" href="mailto:matt@getspaconcierge.com" data-cta="email">Email Us</a>
      <a class="btn btn-primary cal-link"
         href="https://calendly.com/matt-getspaconcierge/new-meeting"
         data-cal="popup" data-cta="demo">Book a Demo</a>
    </div>
  </div>
</header>

<main id="main">
  <!-- HERO -->
  <section class="hero">
    <div class="container grid2">
      <div class="reveal">
        <h1>Never Miss a Client. Turn Missed Calls into Booked Appointments.</h1>
        <p>SpaConcierge instantly follows up on missed calls, texts, and DMs — securing appointments without adding extra staff.</p>
        <div class="cta-row">
          <a class="btn btn-primary cal-link"
             href="https://calendly.com/matt-getspaconcierge/new-meeting"
             data-cal="popup" data-cta="demo">Book a Free Demo</a>
          <a class="btn btn-secondary" href="mailto:matt@getspaconcierge.com" data-cta="email">Email Us</a>
        </div>
      </div>

      <!-- Hero card with chat demo -->
      <div class="mock reveal" aria-label="Automated booking demo">
        <div class="chat-stage">
          <div id="hero-chat" class="chat-card" aria-live="polite"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section>
    <div class="container">
      <div class="section-title">How it Works</div>
      <p class="sub">Quick setup — keep your current number.</p>
      <div class="cards">
        <div class="card reveal"><h3>1) Forward missed calls</h3><p>No-answer calls are redirected to our AI line.</p></div>
        <div class="card reveal"><h3>2) Smart replies</h3><p>We instantly text back with branded answers & booking options.</p></div>
        <div class="card reveal"><h3>3) Book & confirm</h3><p>Clients pick a slot → confirmation sent automatically.</p></div>
      </div>
    </div>
  </section>

  <!-- ROI Snapshot -->
  <section>
    <div class="container">
      <div class="section-title">What we typically recover</div>
      <p class="sub">Based on similar clinics; results vary by volume and services.</p>
      <div class="stats">
        <div class="stat reveal"><b>+10–25</b> extra bookings / month</div>
        <div class="stat reveal"><b>&lt; 60s</b> first reply, even after hours</div>
        <div class="stat reveal"><b>−30%</b> no-shows with reminders</div>
      </div>
    </div>
  </section>

  <!-- ROI CALCULATOR -->
  <section id="roi" aria-labelledby="roi-title">
    <div class="container">
      <h2 id="roi-title" class="section-title">Estimate your monthly ROI</h2>
      <p class="sub">Tweak the numbers to match your clinic.</p>

      <form class="roi-form" autocomplete="off">
        <div class="roi-grid">
          <label class="roi-field">
            <span>Missed calls per week</span>
            <input type="number" id="roi-missed" min="0" step="1" value="12" inputmode="numeric">
          </label>

          <label class="roi-field">
            <span>Recapture rate</span>
            <div class="roi-input-affix">
              <input type="number" id="roi-rate" min="0" max="100" step="1" value="35">
              <span class="affix">%</span>
            </div>
          </label>

          <label class="roi-field">
            <span>Avg booking value</span>
            <div class="roi-input-affix">
              <span class="affix">$</span>
              <input type="number" id="roi-value" min="0" step="10" value="200">
            </div>
          </label>

          <label class="roi-field">
            <span>Monthly plan cost</span>
            <div class="roi-input-affix">
              <span class="affix">$</span>
              <input type="number" id="roi-cost" min="0" step="10" value="499">
            </div>
          </label>
        </div>
      </form>

      <div class="roi-results">
        <div class="roi-card">
          <div class="roi-label">Recovered bookings / month</div>
          <div class="roi-num" id="roi-bookings">0</div>
        </div>
        <div class="roi-card">
          <div class="roi-label">Recovered revenue / month</div>
          <div class="roi-num" id="roi-revenue">$0</div>
        </div>
        <div class="roi-card">
          <div class="roi-label">Break-even bookings</div>
          <div class="roi-num" id="roi-breakeven">0</div>
        </div>
        <div class="roi-card">
          <div class="roi-label">ROI multiple</div>
          <div class="roi-num" id="roi-multiple">0×</div>
        </div>
      </div>

      <div class="roi-cta">
        <a class="btn btn-primary cal-link"
           href="https://calendly.com/matt-getspaconcierge/new-meeting"
           data-cal="popup" data-cta="demo">See it with your numbers</a>
        <span class="roi-note">Illustrative projection based on your inputs.</span>
      </div>
    </div>
  </section>

  <!-- BENEFITS -->
  <section>
    <div class="container">
      <div class="section-title">Why Spas Choose SpaConcierge</div>
      <p class="sub">Boost revenue and reduce front-desk workload.</p>
      <div class="cards">
        <div class="card reveal"><h3>Immediate replies</h3><p>Responds in under a minute, even after hours.</p></div>
        <div class="card reveal"><h3>Real bookings</h3><p>Offer actual time slots pulled from your schedule.</p></div>
        <div class="card reveal"><h3>Med-spa fluent</h3><p>Understands injectables, facials, packages, and FAQs.</p></div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="contact">
    <div class="container">
      <div class="section-title">Contact us</div>
      <p class="sub">Prefer email over scheduling? Send a quick note—we’ll reply within a business day.</p>

      <!-- Netlify Forms -->
      <form class="contact-form reveal" name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="#contact-thanks" id="contact-form">
        <input type="hidden" name="form-name" value="contact">
        <input type="hidden" name="page" value="https://www.getspaconcierge.com/">

        <!-- Honeypot -->
        <div style="position:absolute;left:-5000px;opacity:0" aria-hidden="true">
          <label>Don’t fill this out if you're human:
            <input name="bot-field" tabindex="-1">
          </label>
        </div>

        <div class="form-success" id="contact-success" role="status" aria-live="polite">Thanks! We’ll get back to you shortly.</div>
        <div class="form-error" id="contact-error" role="alert">Oops—something went wrong. Please email <a href="mailto:matt@getspaconcierge.com">matt@getspaconcierge.com</a>.</div>

        <div class="fields">
          <div class="field">
            <label for="name">Your name*</label>
            <input id="name" name="name" autocomplete="name" required>
          </div>
          <div class="field">
            <label for="email">Email*</label>
            <input id="email" name="email" type="email" autocomplete="email" required>
          </div>
          <div class="field">
            <label for="phone">Phone</label>
            <input id="phone" name="phone" inputmode="tel" placeholder="+1 (___) ___-____">
          </div>
          <div class="field">
            <label for="business">Business / Clinic</label>
            <input id="business" name="business" autocomplete="organization">
          </div>
          <div class="field">
            <label for="interest">I'm interested in</label>
            <select id="interest" name="interest">
              <option>Trial / pilot</option>
              <option>Full setup</option>
              <option>Pricing questions</option>
              <option>Partnership</option>
            </select>
          </div>
          <div class="field full">
            <label for="message">How can we help?</label>
            <textarea id="message" name="message" placeholder="Tell us about missed calls, after-hours coverage, or goals..."></textarea>
          </div>
        </div>

        <div class="form-foot">
          <span class="form-note">By submitting, you agree to be contacted about SpaConcierge. No spam — ever.</span>
          <button class="btn btn-primary" type="submit" data-cta="contact-send">Send message</button>
        </div>
      </form>
      <noscript><p class="sub" style="margin-top:10px">JavaScript is off. The form will still submit via Netlify.</p></noscript>
    </div>
  </section>

  <!-- CTA Banner -->
  <section>
    <div class="container cta-banner reveal">
      <div><h2 style="margin:0">Ready to recover missed bookings?</h2></div>
      <div class="cta-row">
        <a class="btn btn-primary cal-link"
           href="https://calendly.com/matt-getspaconcierge/new-meeting"
           data-cal="popup" data-cta="demo">Book a Demo Call</a>
        <a class="btn btn-secondary" href="mailto:matt@getspaconcierge.com" data-cta="email">Email Us</a>
      </div>
    </div>
  </section>
</main>

<footer>
  © <span id="y"></span> SpaConcierge — <a href="mailto:matt@getspaconcierge.com">matt@getspaconcierge.com</a>
</footer>

<script>
  // Sticky header shadow
  const hdr = document.getElementById('site-header');
  addEventListener('scroll', () => hdr.classList.toggle('scrolled', scrollY > 6));

  // Reveal on scroll
  const revealEls = document.querySelectorAll('.reveal');
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target); } })
  },{threshold:.1});
  revealEls.forEach(el=>io.observe(el));

  // Year
  document.getElementById('y').textContent = new Date().getFullYear();

  // UTM passthrough to Calendly
  (function(){
    const utm = location.search;
    if(!utm) return;
    document.querySelectorAll('a[href*="calendly.com/matt-getspaconcierge"]').forEach(a=>{
      try{ const u = new URL(a.href); u.search += (u.search ? '&' : '') + utm.slice(1); a.href = u.toString(); }catch(e){}
    });
  })();

  // GA4 CTA click tracking (covers all [data-cta])
  function track(eventName, params){ try{ gtag('event', eventName, params||{}); }catch(e){} }
  document.querySelectorAll('[data-cta]').forEach(el=>{
    el.addEventListener('click', ()=>{
      const id = el.dataset.cta || 'cta';
      const label = el.textContent.trim();
      track('select_content', {content_type:'cta', content_id:id, label});
      if(id.includes('demo')) track('click_demo', {event_category:'CTA', event_label:label});
      if(id.includes('email')) track('click_email', {event_category:'CTA', event_label:el.href});
    });
  });

  // Calendly inline popup (fallbacks to href if JS off)
  function openCalendly(e){
    const link = e.currentTarget;
    if (!window.Calendly || link.dataset.cal !== 'popup') return; // fallback to href
    e.preventDefault();
    Calendly.initPopupWidget({ url: link.href });
    track('calendly_popup_open', {event_category:'CTA', event_label: link.textContent.trim() });
  }
  document.querySelectorAll('.cal-link').forEach(a=>a.addEventListener('click', openCalendly));

  // Netlify Forms AJAX enhancement
  (function(){
    const form = document.getElementById('contact-form');
    if(!form) return;
    form.querySelector('input[name="page"]').value = location.href;

    function encodeForm(fd){ return new URLSearchParams(fd).toString(); }

    form.addEventListener('submit', function(e){
      e.preventDefault(); // without JS, default POST still works
      const success = document.getElementById('contact-success');
      const error   = document.getElementById('contact-error');
      success.style.display = 'none';
      error.style.display   = 'none';

      const fd = new FormData(form);
      fetch('/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: encodeForm(fd)
      })
      .then(()=>{
        form.reset();
        success.style.display = 'block';
        track('contact_submit', {event_category:'Form', event_label:'contact'});
        track('generate_lead', {event_category:'Form', event_label:'contact'});
      })
      .catch(()=>{ error.style.display = 'block'; });
    });
  })();

  // ---- HERO multi-scene rotator (staggered so the card is never empty) ----
  (function(){
    const scenes = Array.from(document.querySelectorAll('.hero-anim .scene'));
    if(!scenes.length) return;

    const DURATION = 7000;   // each scene's bubble timeline
    const STAGGER  = 2500;   // 2–3s between scene starts (here: 2.5s)

    // Start (or restart) a scene: fade in + play its bubbles from the beginning
    function play(scene){
      // restart all bubble animations
      scene.querySelectorAll('.bubble').forEach(b=>{
        b.style.animation = 'none'; b.offsetHeight; // force reflow
        // restore original animation (matches CSS .bubble definition)
        b.style.animation = 'bubbleIn 6.8s linear both';
      });
      scene.classList.add('active');
      setTimeout(()=> scene.classList.remove('active'), DURATION);
    }

    // seed the three scenes with a stagger so there's always activity
    scenes.forEach((s, i)=> setTimeout(()=> play(s), i*STAGGER));

    // keep triggering a new scene start every STAGGER ms (round-robin)
    let idx = scenes.length;
    setInterval(()=>{
      play(scenes[idx % scenes.length]);
      idx++;
    }, STAGGER);
  })();

  /* ---------- Hero chat animation (smooth, staggered, premium) ---------- */
  (function(){
    const chat = document.getElementById('hero-chat');
    if(!chat) return;

    // small helpers
    const sleep = ms => new Promise(r=>setTimeout(r,ms));
    const mk = (t,c) => { const el = document.createElement(t); if(c) el.className = c; return el; };

    // tasteful emoji-style phone avatar (vector)
    const phoneSVG = () => `
      <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs><linearGradient id="phg" x1="0" y1="0" x2="1" y2="1">
          <stop stop-color="#12c2b0"/><stop offset="1" stop-color="#0aa08a"/></linearGradient></defs>
        <circle cx="24" cy="24" r="24" fill="url(#phg)"/>
        <path fill="#fff" d="M31.9 34.6c-.6 0-1.2-.1-1.8-.4l-2.9-1.3c-3.5-1.5-6.7-4.7-8.2-8.2l-1.3-2.9c-.5-1.1-.5-2.4.1-3.4l1.7-2.7c.5-.8 1.5-1.1 2.3-.7l3.3 1.6c.8.4 1.2 1.3 1 2.1l-.5 2.1c-.1.4 0 .8.3 1.1l3.5 3.5c.3.3.7.4 1.1.3l2.1-.5c.8-.2 1.7.2 2.1 1l1.6 3.3c.4.8.2 1.8-.7 2.3l-2.7 1.7c-.5.3-1 .4-1.5.4z"/>
      </svg>`;
    const checkSVG = () => `
      <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <circle cx="24" cy="24" r="24" fill="#14b8a6"/>
        <path fill="#fff" d="M20.3 31.2 12.8 23.7l2.3-2.3 5.2 5.2 12-12 2.3 2.3z"/>
      </svg>`;

    function avatarPhone(){ const a = mk('div','avatar'); a.innerHTML = phoneSVG(); return a; }
    function avatarAI(){ const a = mk('div','avatar ai'); a.textContent = 'AI'; return a; }
    function avatarCheck(){ const a = mk('div','avatar'); a.innerHTML = checkSVG(); return a; }

    function eventBubble(s){
      const b = mk('div','bubble event reveal-msg');
      const row = mk('div','bubble-row');
      row.appendChild(avatarPhone());
      const title = mk('div','title'); title.textContent = `Missed call from ${s.from}`;
      const time  = mk('div','time');  time.textContent  = s.time;
      row.appendChild(title); row.appendChild(time);
      b.appendChild(row);
      return b;
    }
    function aiBubble(text){
      const b = mk('div','bubble ai-msg reveal-msg');
      const row = mk('div','bubble-row');
      row.appendChild(avatarAI());
      const p = mk('div'); p.textContent = text;
      row.appendChild(p);
      b.appendChild(row);
      return b;
    }
    function typingBubble(){
      const b = mk('div','bubble ai-msg typing reveal-msg');
      const row = mk('div','bubble-row');
      row.appendChild(avatarAI());
      const dots = mk('div'); dots.style.display='flex'; dots.style.gap='6px';
      for(let i=0;i<3;i++) dots.appendChild(mk('div','dot'));
      row.appendChild(dots);
      b.appendChild(row);
      return b;
    }
    function confirmBubble(text){
      const b = mk('div','bubble confirm reveal-msg');
      const row = mk('div','bubble-row');
      row.appendChild(avatarCheck());
      const p = mk('div'); p.innerHTML = `<b>Booked:</b> ${text}`;
      row.appendChild(p);
      b.appendChild(row);
      return b;
    }

    const scenarios = [
      { from:'Priya',  time:'18:17',
        ai:"Hi Priya — can do a hydrafacial tomorrow. Want 4 PM?",
        confirm:"Fri • 4:00 PM — calendar invite sent" },
      { from:'Jordan', time:'09:05',
        ai:"Hi Jordan — we can fit you for a chemical peel today. Want 2 PM?",
        confirm:"Today • 2:00 PM — calendar invite sent" },
      { from:'Ava',    time:'19:42',
        ai:"Hi Ava — Botox consult available tomorrow. Want 11 AM?",
        confirm:"Tomorrow • 11:00 AM — calendar invite sent" }
    ];

    // compute a natural typing time from message length (1.2–2.2s)
    const typeMsFor = text => Math.max(1200, Math.min(2200, 26 * text.length));

    async function playScenario(s){
      // never show an empty stage: add first bubble immediately
      chat.innerHTML = '';
      chat.appendChild(eventBubble(s));                 // t=0
      await sleep(650);

      chat.appendChild(aiBubble(s.ai));                 // AI reply
      await sleep(350);

      const typing = typingBubble();                    // typing…
      chat.appendChild(typing);
      await sleep(typeMsFor(s.ai));
      typing.remove();

      chat.appendChild(confirmBubble(s.confirm));       // confirmation
      await sleep(1600);                                // settle briefly before next scenario
    }

    (async function loop(){
      let i = 0;
      while(true){
        await playScenario(scenarios[i % scenarios.length]);
        i++;
      }
    })();
  })();

  // ROI calculator (animated outputs; fires GA4 event via track())
  (function(){
    const qs = s => document.querySelector(s);
    const missed=qs('#roi-missed'), rate=qs('#roi-rate'), value=qs('#roi-value'), cost=qs('#roi-cost');
    const outB=qs('#roi-bookings'), outR=qs('#roi-revenue'), outBE=qs('#roi-breakeven'), outM=qs('#roi-multiple');
    if(!missed||!rate||!value||!outB) return;

    const weeksPerMonth = 4.3;
    const clamp = (n,min,max)=>Math.min(Math.max(n,min),max);

    function fmtMoney(n){ return n.toLocaleString(undefined,{style:'currency',currency:'USD',maximumFractionDigits:0}); }
    function animateNum(el, to, prefix='', suffix='', dur=500){
      const from = parseFloat(el.dataset.val||0);
      const start = performance.now();
      function tick(now){
        const p = Math.min(1,(now-start)/dur);
        const val = from + (to-from)*p;
        el.textContent = prefix + (suffix==='×' ? (val).toFixed(1) : Math.round(val).toLocaleString()) + suffix;
        if(p<1) requestAnimationFrame(tick); else el.dataset.val = to;
      }
      requestAnimationFrame(tick);
    }

    function calc(){
      const m = Math.max(0, +missed.value||0);
      const r = clamp(+rate.value||0,0,100)/100;
      const v = Math.max(0, +value.value||0);
      const c = Math.max(0, +cost.value||0);

      const bookings = m * r * weeksPerMonth;
      const revenue  = bookings * v;
      const breakeven = v>0 ? Math.ceil(c / v) : 0;
      const multiple  = c>0 ? revenue / c : 0;

      animateNum(outB, bookings, '', '');
      outR.textContent = fmtMoney(revenue); outR.dataset.val = revenue;
      animateNum(outBE, breakeven, '', '');
      animateNum(outM, multiple, '', '×');

      try{ track('roi_update', {missed:m, rate:r, value:v, cost:c, revenue:Math.round(revenue)}); }catch(e){}
    }

    [missed,rate,value,cost].forEach(i=>i.addEventListener('input', calc));
    calc();
  })();
</script>
</body>
</html>
